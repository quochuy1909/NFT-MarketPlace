"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[541],{541:function(e,r,n){n.r(r),n.d(r,{default:function(){return g}});var t=n(4165),a=n(1413),s=n(5861),c=n(9439),d=n(2791),i=n(9434),o=n(4329),l=n(1339),u=n(7854),v=n(8847),p=n(8217),m=n(1087),x=n(184),h=function(e){var r=e.myCollect,n=e.handleApprove;return(0,x.jsx)(x.Fragment,{children:r?r.map((function(e,r){var t=[e.atk,e.hp,e.crit,e.critdame,e.stat];return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"my-2 border-2 border-gray-200 rounded-lg"}),(0,x.jsxs)("div",{className:"grid md:grid-cols-8 font-semibold text-base mb-6 sm:grid-cols-4 sm:gap-4",children:[(0,x.jsx)("div",{className:"md:col-span-2 sm:col-span-2",children:(0,x.jsxs)("div",{className:"grid grid-cols-2",children:[(0,x.jsx)("div",{className:"col-span-1 mr-2",children:(0,x.jsx)(m.rU,{to:"/nft/".concat(e.uri,"/").concat(e.index),children:(0,x.jsx)("img",{className:"rounded-lg",src:e.image})})}),(0,x.jsx)("div",{className:"col-span-1 align-middle font-semibold m-auto text-center",children:e.name})]})}),t?t.map((function(e,r){return(0,x.jsx)("div",{className:"md:col-span-1 font-normal text-center m-auto max-md:hidden",children:e},r)})):"",(0,x.jsx)("div",{className:"md:col-span-1 text-right  m-auto max-sm:hidden",children:(0,x.jsx)("div",{className:"w-24",children:(0,x.jsx)("button",{className:e.isApprove?"bg-gray-600 rounded-lg text-white hover:bg-gray-800 w-24 h-24":"w-24 h-24 bg-red-400 rounded-lg text-white hover:bg-red-600",onClick:function(){var r,t;r=e.index,t=e.isApprove,n&&n(r,t)},children:e.isApprove?"Revoke Approve":"Sell NFT"})})})]})]},r)})):""})},f=n(2723),g=function(){var e=(0,o.useWeb3React)().account,r=(0,d.useState)(null),n=(0,c.Z)(r,2),m=n[0],g=n[1],j=(0,d.useState)(""),N=(0,c.Z)(j,2),b=N[0],Z=N[1],y=(0,d.useState)(null),k=(0,c.Z)(y,2),w=k[0],A=k[1],C=(0,i.v9)((function(e){var r,n;return null===(r=e.providerReducer)||void 0===r||null===(n=r.reduxContract)||void 0===n?void 0:n.payload})),F=(0,i.v9)((function(e){var r,n;return null===(r=e.providerReducer)||void 0===r||null===(n=r.reduxProvider)||void 0===n?void 0:n.payload})),T=(0,i.v9)((function(e){var r,n;return null===(r=e.providerReducer)||void 0===r||null===(n=r.reduxClosePopupApprove)||void 0===n?void 0:n.payload})),R=(0,i.v9)((function(e){var r,n;return null===(r=e.providerReducer)||void 0===r||null===(n=r.reduxListNFT)||void 0===n?void 0:n.payload})),S=(0,d.useState)(null),E=(0,c.Z)(S,2),P=E[0],H=E[1],M={showModalApprove:m,isApproved:w,approvedHash:b,type:"approve"},O=["ATK","HP","Crit","CritDame","Stat"],_=function(){var r=(0,s.Z)((0,t.Z)().mark((function r(){var n;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={contract:C,account:e,listNFT:R},H(null),r.t0=H,r.next=5,(0,l.Z)((0,a.Z)({},n));case 5:r.t1=r.sent,(0,r.t0)(r.t1);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,d.useEffect)((function(){e&&(0!=T&&void 0!=T||_())}),[e,T]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"container mx-auto ".concat(e?"border-2":""," rounded-lg border-gray-400 mb-24"),children:[e?P?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"m-8",children:(0,x.jsx)("span",{className:"font-bold text-lg",children:"My collection"})}),(0,x.jsxs)("div",{className:"grid md:grid-cols-8 md:gap-4 font-semibold text-base mb-6 sm:grid-cols-2 sm:gap-4 grid-cols-2 gap-4",children:[(0,x.jsx)("div",{className:"md:col-span-2 text-center ",children:"NFT"}),O?O.map((function(e,r){return(0,x.jsx)("div",{className:"md:col-span-1 max-md:hidden text-center",children:e},r)})):"",(0,x.jsx)("div",{className:"md:col-span-1 col-span-1 text-right"})]})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(p.Z,{})}):(0,x.jsx)("div",{children:e?"":(0,x.jsx)(f.Z,{})}),(0,x.jsx)("div",{className:"m-6 ",children:(0,x.jsx)(h,{myCollect:P,handleApprove:function(r,n){var c=function(){var c=(0,s.Z)((0,t.Z)().mark((function s(){var c,d,i,o,l,v;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c={contract:C,index:r,account:e},t.next=4,(0,u.yn)((0,a.Z)({},c));case 4:if(!(d=t.sent).isOwner||d.checkApproved==d.approveNFT){t.next=13;break}return i={contract:C,index:r},t.next=9,(0,u.dE)((0,a.Z)({},i));case 9:o=t.sent,g(!m),Z(null===o||void 0===o?void 0:o.hash),A(!n);case 13:if(!d.isOwner||d.checkApproved!=d.approveNFT){t.next=21;break}return l={contract:C,index:r,account:e,provider:F},t.next=17,(0,u.aE)((0,a.Z)({},l));case 17:v=t.sent,g(!m),Z(null===v||void 0===v?void 0:v.hash),A(!n);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(0),console.log(t.t0);case 26:case"end":return t.stop()}}),s,null,[[0,23]])})));return function(){return c.apply(this,arguments)}}();c()}})}),(0,x.jsx)(v.Z,(0,a.Z)({},M))]})})}}}]);
//# sourceMappingURL=541.11389a5d.chunk.js.map