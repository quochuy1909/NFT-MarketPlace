{"version":3,"file":"static/js/541.11389a5d.chunk.js","mappings":"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","sources":["Components/MyCollection/MyCollectionItem.tsx","Components/MyCollection/MyCollection.tsx"],"sourcesContent":["import { Link } from 'react-router-dom'\r\nimport { IMyCollectionItem } from '../type'\r\ninterface IMyCollecItemProps {\r\n    myCollect: IMyCollectionItem[] | null,\r\n    handleApprove: any\r\n}\r\nconst MyCollectionItem = ({ myCollect, handleApprove }: IMyCollecItemProps) => {\r\n  const handleApproveByItem = (index: number, isApprove: boolean) => {\r\n    if (handleApprove) {\r\n      handleApprove(index, isApprove)\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      {myCollect ? (myCollect.map((mc: IMyCollectionItem, ind: number) => {\r\n        const mcArr = [mc.atk, mc.hp, mc.crit, mc.critdame, mc.stat]\r\n        return (\r\n          <div key={ind}>\r\n            <div className='my-2 border-2 border-gray-200 rounded-lg'>\r\n            </div>\r\n            <div className='grid md:grid-cols-8 font-semibold text-base mb-6 sm:grid-cols-4 sm:gap-4'>\r\n              <div className='md:col-span-2 sm:col-span-2'>\r\n                <div className='grid grid-cols-2'>\r\n                  <div className='col-span-1 mr-2'>\r\n                    <Link to={`/nft/${mc.uri}/${mc.index}`}>\r\n                      <img className='rounded-lg' src={mc.image} />\r\n                    </Link>\r\n                  </div>\r\n                  <div className='col-span-1 align-middle font-semibold m-auto text-center'>\r\n                    {mc.name}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {mcArr ? mcArr.map((mcA, index) => {\r\n                return (\r\n                  <div className='md:col-span-1 font-normal text-center m-auto max-md:hidden' key={index}>\r\n                    {mcA}\r\n                  </div>\r\n                )\r\n              }) : ''}\r\n              <div className='md:col-span-1 text-right  m-auto max-sm:hidden'>\r\n                <div className='w-24'>\r\n                  <button\r\n                    className=\r\n                      {mc.isApprove ? 'bg-gray-600 rounded-lg text-white hover:bg-gray-800 w-24 h-24'\r\n                        : 'w-24 h-24 bg-red-400 rounded-lg text-white hover:bg-red-600'}\r\n                    onClick={() => { handleApproveByItem(mc.index, mc.isApprove) }}\r\n                  >\r\n                    {mc.isApprove ? 'Revoke Approve' : 'Sell NFT'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      })) : ''}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyCollectionItem","import { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport myCollectionService from '../../Service/myCollectionService'\r\nimport { isItemApproved, approve, unApprove } from '../../Service/approveService'\r\nimport PopupApprove from '../Popup/PopupApprove'\r\nimport MyCollectionLoading from './MyCollectionLoading'\r\nimport { Contract } from 'ethers'\r\nimport { Web3Provider } from '@ethersproject/providers'\r\nimport { IApprovePopup, IApproveProps, IMyCollectProps, IItemAproveProps, IUnApproveProps, IMyCollectionItem, INFT } from '../type'\r\nimport MyCollectionItem from './MyCollectionItem'\r\nimport GoHomePageComponent from '../GoHomePageComponent'\r\nconst MyCollection = () => {\r\n  const { account } = useWeb3React()\r\n  const [showModalApprove, setShowModalApprove] = useState<boolean | null>(null)\r\n  const [approvedHash, setApprovedHash] = useState<string>('')\r\n  const [isApproved, setIsApproved] = useState<null | boolean>(null)\r\n  const contract: Contract = useSelector((state: any) => state.providerReducer?.reduxContract?.payload)\r\n  const provider: Web3Provider = useSelector((state: any) => state.providerReducer?.reduxProvider?.payload)\r\n  const closePopup: boolean | null = useSelector((state: any) => state.providerReducer?.reduxClosePopupApprove?.payload)\r\n  const listNFT: INFT[] = useSelector((state: any) => state.providerReducer?.reduxListNFT?.payload)\r\n  const [myCollect, setMyCollect] = useState<Array<IMyCollectionItem> | null>(null)\r\n  const type = 'approve'\r\n  const approvePopup: IApprovePopup = { showModalApprove, isApproved, approvedHash, type }\r\n  const title = ['ATK', 'HP', 'Crit', 'CritDame', 'Stat']\r\n  const render = async () => {\r\n    const myCollectProps: IMyCollectProps = { contract, account, listNFT }\r\n    setMyCollect(null)\r\n    setMyCollect(await myCollectionService({ ...myCollectProps }))\r\n  }\r\n  const handleApprove = (index: number, isApprove: boolean) => {\r\n    const start = async () => {\r\n      try {\r\n        const itemAproveProps: IItemAproveProps = { contract, index, account }\r\n        const rs = await isItemApproved({ ...itemAproveProps })\r\n        if (rs.isOwner && rs.checkApproved != rs.approveNFT) {\r\n          const approveProps: IApproveProps = { contract, index }\r\n          const appr = await approve({ ...approveProps })\r\n          setShowModalApprove(!showModalApprove)\r\n          setApprovedHash(appr?.hash)\r\n          setIsApproved(!isApprove)\r\n        }\r\n        if (rs.isOwner && rs.checkApproved == rs.approveNFT) {\r\n          const unApproveProps: IUnApproveProps = { contract, index, account, provider }\r\n          const unAppr = await unApprove({ ...unApproveProps })\r\n          setShowModalApprove(!showModalApprove)\r\n          setApprovedHash(unAppr?.hash)\r\n          setIsApproved(!isApprove)\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n    start()\r\n  }\r\n  useEffect(() => {\r\n    if (account) {\r\n      if (closePopup == false || closePopup == undefined) {\r\n        render()\r\n      }\r\n    }\r\n  }, [account, closePopup])\r\n  return (\r\n    <>\r\n      <div className={`container mx-auto ${account ? 'border-2' : ''} rounded-lg border-gray-400 mb-24`}>\r\n        {account ? (myCollect ? (\r\n          <div>\r\n            <div className='m-8'>\r\n              <span className='font-bold text-lg'>\r\n                                My collection\r\n              </span>\r\n            </div>\r\n            <div className='grid md:grid-cols-8 md:gap-4 font-semibold text-base mb-6 sm:grid-cols-2 sm:gap-4 grid-cols-2 gap-4'>\r\n              <div className='md:col-span-2 text-center '>\r\n                                NFT\r\n              </div>\r\n              {title ? title.map((tt, index: number) => {\r\n                return (\r\n                  <div className='md:col-span-1 max-md:hidden text-center' key={index}>\r\n                    {tt}\r\n                  </div>\r\n                )\r\n              }) : ''}\r\n              <div className='md:col-span-1 col-span-1 text-right'>\r\n              </div>\r\n            </div>\r\n          </div>) :\r\n          <>\r\n            <MyCollectionLoading />\r\n          </>\r\n        ) : <div>\r\n          {account ? '' : <GoHomePageComponent />}\r\n        </div>}\r\n        <div className='m-6 '>\r\n          <MyCollectionItem myCollect={myCollect} handleApprove={handleApprove} />\r\n        </div>\r\n        <PopupApprove {...approvePopup} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyCollection"],"names":["_ref","myCollect","handleApprove","_jsx","_Fragment","children","map","mc","ind","mcArr","atk","hp","crit","critdame","stat","_jsxs","className","Link","to","concat","uri","index","src","image","name","mcA","isApprove","onClick","account","useWeb3React","_useState","useState","_useState2","_slicedToArray","showModalApprove","setShowModalApprove","_useState3","_useState4","approvedHash","setApprovedHash","_useState5","_useState6","isApproved","setIsApproved","contract","useSelector","state","_state$providerReduce","_state$providerReduce2","providerReducer","reduxContract","payload","provider","_state$providerReduce3","_state$providerReduce4","reduxProvider","closePopup","_state$providerReduce5","_state$providerReduce6","reduxClosePopupApprove","listNFT","_state$providerReduce7","_state$providerReduce8","reduxListNFT","_useState7","_useState8","setMyCollect","approvePopup","type","title","render","_asyncToGenerator","_regeneratorRuntime","mark","_callee","myCollectProps","wrap","_context","prev","next","t0","myCollectionService","_objectSpread","t1","sent","stop","apply","arguments","useEffect","undefined","tt","MyCollectionLoading","GoHomePageComponent","MyCollectionItem","start","_ref2","_callee2","itemAproveProps","rs","approveProps","appr","unApproveProps","unAppr","_context2","isItemApproved","isOwner","checkApproved","approveNFT","approve","hash","unApprove","console","log","PopupApprove"],"sourceRoot":""}